@page "/quiz"

<center>

    <h1>@q1.Title</h1>

    <br /> <br />

    @foreach (var answer in q1.answers)
    {
        <p><button class="@answer.Color" @onclick="@(() => q1.anythingSelected(answer.ID) )">@answer.Text</button></p>
    }

    <br /> <br />
    <button class="@q1.check.Color">Check</button>

</center>




@code {

    QuestionTest q1 = new QuestionTest { ID = 1, Title = "Are you impressed by my work?" };

    

    @*
        <Question> items = Enumerable.Range(1, 10).Select(i => new Question { ID = i, Title = $"Title{i.ToString()}", Selected = false }).ToList();
    *@

public class QuestionTest
{
    public int ID { get; set; }
    public string Title { get; set; }
    public Check check { get; set; } = new Check { Text = "Check" };
    public AnswerTest[] answers { get; set; } = {
            new AnswerTest { ID = 1, Text = "Yes"},
            new AnswerTest { ID = 2, Text = "No"},
            new AnswerTest { ID = 3, Text = "Maybe"}
        };

    public void anythingSelected(int i)
    {
        bool check = false;
        AnswerTest ans = null;

        foreach (var a in answers)
        {
            if (a.ID == i)
            {
                ans = a;
            }
        }


        foreach (var a in answers)
        {
            if (a != ans && a.Selected)
            {
                a.pressed();
            }
        }

        ans.pressed();

        bool selectionTest = false;

        foreach (var a in answers)
        {
            if (a.Selected)
            {
                selectionTest = true;
            }
        }

        if (selectionTest)
        {
            this.check.Ready = true;
        }
        else
        {
            this.check.Ready = false;
        }


    }

}


public class AnswerTest
{
    public int ID { get; set; }
    public string Text { get; set; }
    public bool Selected { get; set; } = false;
    public string Color => Selected ? "selected" : "unselected";

    public void pressed()
    {
        this.Selected = !Selected;
    }
}

public class Check
{
    public string Text { get; set; }
    public bool Ready { get; set; } = false;
    public string Color => Ready ? "checkReady" : "checkNotReady";

}


}





<style>

    .unselected {
        color: black;
        background: grey;
        border: black;
        width: 100px;
        height: 35px
    }

    .selected {
        color: white;
        background: blue;
        border: black;
        width: 100px;
        height: 35px
    }

    .checkReady {
        color: white;
        background: lightgreen;
        border: black;
        width: 70px;
        height: 35px
    }

    .checkNotReady {
        color: white;
        background: lightgrey;
        border: black;
        width: 70px;
        height: 35px
    }
</style>

